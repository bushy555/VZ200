;Pytha Beeper Engine
;by utz 06'2017 * www.irrlichtproject.de
;2 channels of tone, triangle/rectangle/saw/noise waveforms

USE_LOOP equ 1
USE_DRUMS equ 1
;include "equates.h"

loop_point_patch equ $8023

noise	 equ $1237
rest	 equ $0
c0	 equ $83
cis0	 equ $8a
d0	 equ $93
dis0	 equ $9b
e0	 equ $a4
f0	 equ $ae
fis0	 equ $b9
g0	 equ $c4
gis0	 equ $cf
a0	 equ $dc
ais0	 equ $e9
b0	 equ $f6
c1	 equ $105
cis1	 equ $115
d1	 equ $125
dis1	 equ $136
e1	 equ $149
f1	 equ $15c
fis1	 equ $171
g1	 equ $187
gis1	 equ $19e
a1	 equ $1b7
ais1	 equ $1d1
b1	 equ $1ed
c2	 equ $20a
cis2	 equ $229
d2	 equ $24a
dis2	 equ $26d
e2	 equ $292
f2	 equ $2b9
fis2	 equ $2e2
g2	 equ $30e
gis2	 equ $33d
a2	 equ $36e
ais2	 equ $3a2
b2	 equ $3da
c3	 equ $414
cis3	 equ $452
d3	 equ $494
dis3	 equ $4da
e3	 equ $524
f3	 equ $572
fis3	 equ $5c5
g3	 equ $61c
gis3	 equ $679
a3	 equ $6dc
ais3	 equ $744
b3	 equ $7b3
c4	 equ $828
cis4	 equ $8a4
d4	 equ $928
dis4	 equ $9b3
e4	 equ $a47
f4	 equ $ae4
fis4	 equ $b89
g4	 equ $c39
gis4	 equ $cf3
a4	 equ $db8
ais4	 equ $e89
b4	 equ $f66
c5	 equ $1051
cis5	 equ $1149
d5	 equ $1250
dis5	 equ $1367
e5	 equ $148e
f5	 equ $15c7
fis5	 equ $1713
g5	 equ $1872
gis5	 equ $19e6
a5	 equ $1b70
ais5	 equ $1d12
b5	 equ $1ecc
c6	 equ $20a1
cis6	 equ $2292
d6	 equ $24a0
dis6	 equ $26ce
e6	 equ $291c
f6	 equ $2b8e
fis6	 equ $2e25
g6	 equ $30e4
gis6	 equ $33cc
a6	 equ $36e0
ais6	 equ $3a24
b6	 equ $3d99
c7	 equ $4142
cis7	 equ $4524
d7	 equ $4940
dis7	 equ $4d9b
e7	 equ $5239
f7	 equ $571c
fis7	 equ $5c4b
g7	 equ $61c7
gis7	 equ $6798
a7	 equ $6dc1

	org $8000

	di
	ld c,$fe
	exx
	push hl			;preserve HL' for return to BASIC
	ld (oldSP),sp
	ld hl,music_data
	 ld e,(hl)		;extra addition, read loop point
	 inc hl
	 ld d,(hl)
	 inc hl
	 ld (mloop),de

	ld (seqpntr),hl
	ld ixl,0		;timer lo
	ld c,$fe

;*******************************************************************************
read_seq
seqpntr equ $+1
	ld sp,0
	xor a
	pop iy
	or iyh
	ld (seqpntr),sp
	jr nz,read_ptn0

IF USE_LOOP = 1	
mloop equ $+1
	ld sp,mloop		;get loop point
	jr read_seq+3
ENDIF
;*******************************************************************************
exit
oldSP equ $+1
	ld sp,0
	pop hl
	exx
	ei
	ret

;*******************************************************************************
read_ptn0
	ld sp,iy			;set pattern pointer

read_ptn
;	in a,($fe)			;read kbd
;	cpl
;	and $1f
;	jr nz,exit


	pop af				;flags|speed
	jp m,read_seq
	ld ixh,a			;speed
IF USE_DRUMS = 1
	jp pe,drum
ENDIF
drum_return
	jr z,no_ch1_reload
	
	ex af,af'			;load data ch1
	pop af
	jr c,note_only_ch1 
	
	ld b,a				;offset
	
	ld hl,0
	ld a,h	
	jr nz,set_mod_ch1		;if Z then disable modulator
	
	ld a,4				;inc b
set_mod_ch1
	ld (mod_enable1),a
	jp po,set_noise1
	
	ld hl,$04cb			;rlc h = noise enable
set_noise1
	ld (noise1),hl
	
	pop hl				;waveform
	ld (waveform1),hl
	
note_only_ch1
	ld hl,0
	pop de				;freq divider
	
	ex af,af'
	
no_ch1_reload
	exx
	jr c,no_ch2_reload
			
	pop af				;load data ch2
	jr c,note_only_ch2 
	
	ld b,a				;offset
	
	ld hl,0
	ld a,h	
	jr nz,set_mod_ch2		;if Z then disable modulator
	
	ld a,4				;inc b
set_mod_ch2
	ld (mod_enable2),a
	jp po,set_noise2
	
	ld hl,$04cb			;rlc h = noise enable
set_noise2
	ld (noise2),hl
	
	pop hl				;waveform
	ld (waveform2),hl
	
note_only_ch2
	ld hl,0
	pop de				;freq divider

no_ch2_reload

;*******************************************************************************
;TODO update release with new (correct) timing, update equates.h, update demo song
sound_loop
	exx			;4
	
	add hl,de		;11	;ch1 accu	
	ld a,h			;4
	add a,b			;4	;apply modulator
	or h			;4
	rlca			;4
waveform1
	sbc a,a			;4	;replace with rrca for saw wave
	xor h			;4	;replace with nop for saw/square wave
	rrca			;4
;	out ($fe),a		;11__64
	and 33
	ld (26624), a
	rrca			;4
	out (c),a		;12__16
noise1
	ds 2			;8	;noise w/ rlc h
	rrca			;4
	nop			;4
	exx			;4
	out (c),a		;12__32
	
_ch2	
	add hl,de		;11	;ch2 accu
	
	ld a,h			;4
	add a,b			;4	;apply modulator
	or h			;4
	ret c			;5	;timing
	rlca			;4
waveform2
	sbc a,a			;4	;replace with rrca for saw wave
	xor h			;4	;replace with nop for saw/square wave
	rrca			;4
;	out ($fe),a		;12__64
	and 33
	ld (26624), a

	rrca			;4
	out (c),a		;12__16
noise2
	ds 2			;8	;noise w/ rlc h
	rrca			;4
	dec ixl			;8
	out (c),a		;12__32
	
	jp nz,sound_loop	;10
				;216

mod_enable2	
	inc b				;replace this with nop to disable modulation
	exx

mod_enable1
	inc b				;replace this with nop to disable modulation
	exx
	
	dec ixh
	jp nz,sound_loop
	
	exx
	jp read_ptn
	
;*******************************************************************************
IF USE_DRUMS = 1
drum
	ex af,af'
	ld (deRest),de
	ld (hlRest),hl
	ld (bcRest),bc
	
	pop de
	ld a,d
	rlca
	jr c,drum2
	
drum1					;kick, 
	ld d,a				;D = start pitch
	ld a,e
	ld (slideSpeed),a
	ld e,0
	ld h,e
	ld l,e
	ld c,$3				;length
	
xlllp
	add hl,de
	jr c,noUpd
	ld a,e
slideSpeed equ $+1
	sub $10				;speed
	ld e,a
	sbc a,a
	add a,d
	ld d,a
noUpd
	ld a,h
;	and $ff				;border
;	out ($fe),a
	and 33
	ld (26624), a

	djnz xlllp
	dec c
	jr nz,xlllp
				;45680 (/224 = 203.9)
	
	ld ixl,$34			;correct speed offset

drum_end
deRest equ $+1
	ld de,0
hlRest equ $+1
	ld hl,0
bcRest equ $+1
	ld bc,0
	ex af,af'	
	jp drum_return		
	

	
drum2						;noise
	rlca
	ld a,e
	ld (dvol),a
	ld hl,1					;$1 (snare) <- 1011 -> $1237 (hat)
	jr z,d2init
	
	ld hl,$1237
	
d2init				
	ld bc,$ff03				;length
sloop
	add hl,hl		;11
	sbc a,a			;4
	xor l			;4
	ld l,a			;4

dvol equ $+1	
	cp $80			;7		;volume
	sbc a,a			;4
	
;	and $ff			;7		;border
;	out ($fe),a		;11
	and 33
	ld (26624), a

	djnz sloop		;13/7 : 65 * 256 * B : B=3 -> 49920 (/224 = 222.8)

	dec c			;4
	jr nz,sloop		;12 : (16 - 6) * B : B=3 -> +30
				;			+load/wrap
				;49903 w/ b=$ff (/224 = 222.8)
	ld ixl,$21		;correct speed offset
	jr drum_end
ENDIF
	
	
;*******************************************************************************
music_data
;	include "music.asm"
;sequence


	dw loop
	dw pattern1
loop:
	dw pattern2
	dw 0
pattern1
	dw $900,$0,$ac9f,$0,$0,$ac9f,$0
	dw $900,$1,$0,$1,$0
	dw $900,$1,$0,$3140,$ac9f,$584
	dw $901,$1,$0
	dw $904,$214,$0,$f,$18c,$6340,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$6341,$6f3
	dw $904,$4214,$1,$318,$6341,$75d
	dw $940,$6341,$844
	dw $904,$214,$1,$161,$6341,$947
	dw $941
	dw $905,$8214,$1,$2c2
	dw $940,$6341,$844
	dw $900,$1,$2c2,$6341,$947
	dw $940,$6341,$9d4
	dw $904,$214,$1,$18c,$6341,$947
	dw $940,$6341,$844
	dw $904,$4214,$1,$318,$6341,$75d
	dw $941
	dw $904,$4214,$1,$318,$6341,$6f3
	dw $940,$6341,$75d
	dw $904,$214,$1,$108,$6341,$631
	dw $941
	dw $901,$1,$211
	dw $940,$6700,$ac9f,$584
	dw $900,$1,$211,$4d40,$ac9f,$631
	dw $940,$4d41,$584
	dw $904,$214,$1,$18c,$4d41,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$4d41,$4a3
	dw $904,$4214,$1,$318,$4d41,$422
	dw $941
	dw $904,$214,$1,$1d7,$4d41,$4a3
	dw $941
	dw $901,$1,$3ae
	dw $940,$4d41,$422
	dw $904,$8214,$1,$3ae,$4d41,$4a3
	dw $945,$8214
	dw $904,$214,$1,$18c,$cb40,$ac9f,$584
	dw $940,$cb41,$422
	dw $904,$4214,$1,$318,$cb41,$3ae
	dw $941
	dw $904,$4214,$1,$318,$cb41,$379
	dw $941
	dw $904,$214,$1,$211,$8b40,$ac9f,$318
	dw $941
	dw $900,$1,$422,$8b41,$29a
	dw $940,$8b41,$3ae
	dw $904,$8214,$1,$422,$8b41,$318
	dw $945,$8214
	dw $904,$214,$1,$18c,$7740,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$7741,$6f3
	dw $904,$4214,$1,$318,$7741,$75d
	dw $940,$7741,$844
	dw $904,$214,$1,$161,$7741,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$7741,$844
	dw $900,$1,$2c2,$7741,$947
	dw $940,$7741,$9d4
	dw $904,$214,$1,$18c,$7741,$947
	dw $940,$7741,$844
	dw $904,$4214,$1,$318,$7741,$75d
	dw $941
	dw $904,$4214,$1,$318,$7741,$6f3
	dw $940,$7741,$75d
	dw $904,$214,$1,$211,$7741,$631
	dw $941
	dw $901,$1,$422
	dw $940,$7741,$584
	dw $900,$1,$422,$7741,$631
	dw $940,$7741,$584
	dw $904,$214,$1,$18c,$7741,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$7741,$4a3
	dw $904,$4214,$1,$318,$7741,$422
	dw $941
	dw $904,$214,$1,$1d7,$7741,$4ea
	dw $941
	dw $905,$4214,$1,$3ae
	dw $940,$9c40,$ac9f,$4a3
	dw $904,$4214,$1,$3ae,$9c41,$4ea
	dw $940,$9c41,$631
	dw $904,$214,$1,$18c,$9c41,$584
	dw $940,$9c41,$4ea
	dw $904,$4214,$1,$318,$9c41,$4a3
	dw $940,$9c41,$422
	dw $904,$4214,$1,$318,$9c41,$4a3
	dw $940,$9c41,$535
	dw $904,$214,$1,$211,$9c41,$318
	dw $941
	dw $904,$4214,$1,$422,$9c41,$4a3
	dw $941
	dw $904,$4214,$1,$422,$9c41,$3ae
	dw $945,$4214
	dw $904,$214,$1,$18c,$cf00,$ac9f,$631
	dw $941
	dw $900,$1,$318,$cf01,$947
	dw $941
	dw $900,$1,$318,$cf01,$75d
	dw $941
	dw $904,$214,$1,$161,$cf01,$631
	dw $941
	dw $901,$1,$2c2
	dw $940,$cf40,$ac9f,$844
	dw $900,$1,$2c2,$cf41,$947
	dw $940,$cf41,$9d4
	dw $904,$214,$1,$18c,$7d40,$ac9f,$844
	dw $941
	dw $900,$1,$318,$7d41,$b08
	dw $941
	dw $900,$1,$318,$7d41,$947
	dw $941
	dw $904,$214,$1,$108,$7d41,$75d
	dw $941
	dw $901,$1,$211
	dw $940,$7d41,$6f3
	dw $900,$1,$211,$7d00,$ac9f,$75d
	dw $940,$7d40,$ac9f,$631
	dw $904,$214,$1,$18c,$7d41,$631
	dw $941
	dw $901,$1,$318
	dw $940,$7d41,$4a3
	dw $900,$1,$318,$7d41,$422
	dw $941
	dw $904,$214,$1,$1d7,$7d41,$4ea
	dw $941
	dw $901,$1,$3ae
	dw $940,$7d41,$4a3
	dw $900,$1,$3ae,$7d41,$4ea
	dw $940,$7d00,$ac9f,$631
	dw $904,$214,$1,$18c,$7d40,$ac9f,$584
	dw $940,$7d00,$ac9f,$4ea
	dw $900,$1,$318,$7d40,$ac9f,$4a3
	dw $940,$7d00,$ac9f,$422
	dw $900,$1,$318,$7d40,$ac9f,$4a3
	dw $940,$7d00,$ac9f,$4ea
	dw $904,$214,$1,$108,$7d40,$ac9f,$318
	dw $941
	dw $900,$1,$211,$7d41,$4a3
	dw $941
	dw $900,$1,$211,$7d41,$3ae
	dw $941
	dw $904,$214,$1,$18c,$6340,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$6341,$6f3
	dw $904,$4214,$1,$318,$6341,$75d
	dw $940,$6341,$844
	dw $904,$214,$1,$161,$6341,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$6341,$844
	dw $900,$1,$2c2,$6341,$947
	dw $940,$6341,$9d4
	dw $904,$214,$1,$18c,$c740,$ac9f,$947
	dw $940,$c741,$844
	dw $904,$4214,$1,$318,$c741,$75d
	dw $941
	dw $904,$4214,$1,$318,$c741,$6f3
	dw $940,$c741,$75d
	dw $904,$214,$1,$211,$c741,$631
	dw $941
	dw $901,$1,$422
	dw $940,$4e40,$ac9f,$584
	dw $900,$1,$422,$4e41,$631
	dw $940,$4e41,$584
	dw $904,$214,$1,$18c,$4e41,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$4e41,$4a3
	dw $904,$4214,$1,$318,$4e41,$422
	dw $941
	dw $904,$214,$1,$1d7,$4e41,$4a3
	dw $941
	dw $901,$1,$3ae
	dw $940,$4e41,$422
	dw $900,$1,$3ae,$4e41,$4a3
	dw $941
	dw $904,$214,$1,$18c,$4e00,$ac9f,$584
	dw $940,$4e01,$422
	dw $904,$4214,$1,$318,$4e01,$3ae
	dw $941
	dw $904,$4214,$1,$318,$4e01,$379
	dw $941
	dw $904,$214,$1,$211,$4e01,$318
	dw $941
	dw $900,$1,$422,$4e01,$29a
	dw $940,$4e01,$3ae
	dw $900,$1,$422,$4e01,$318
	dw $941
	dw $904,$214,$1,$18c,$5940,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$5941,$6f3
	dw $904,$4214,$1,$318,$5941,$75d
	dw $940,$5941,$844
	dw $904,$214,$1,$161,$5941,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$5941,$844
	dw $900,$1,$2c2,$5941,$947
	dw $940,$5941,$9d4
	dw $904,$214,$1,$18c,$5941,$947
	dw $940,$5941,$844
	dw $904,$4214,$1,$318,$5941,$75d
	dw $941
	dw $904,$4214,$1,$318,$5941,$6f3
	dw $940,$5941,$75d
	dw $904,$214,$1,$211,$5941,$631
	dw $941
	dw $901,$1,$422
	dw $940,$5941,$584
	dw $900,$1,$422,$5900,$ac9f,$631
	dw $940,$5901,$584
	dw $904,$214,$1,$18c,$b140,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$b141,$4a3
	dw $904,$4214,$1,$318,$b141,$422
	dw $941
	dw $904,$214,$1,$1d7,$4f40,$ac9f,$4ea
	dw $941
	dw $905,$4214,$1,$3ae
	dw $940,$4f41,$4a3
	dw $904,$4214,$1,$3ae,$4f41,$4ea
	dw $940,$4f41,$631
	dw $904,$214,$1,$18c,$4f41,$584
	dw $940,$4f41,$4ea
	dw $904,$4214,$1,$318,$4f41,$4a3
	dw $940,$4f41,$422
	dw $904,$4214,$1,$318,$4f00,$ac9f,$4a3
	dw $940,$4f01,$535
	dw $904,$214,$1,$211,$4f01,$318
	dw $941
	dw $904,$4214,$1,$422,$4f01,$4a3
	dw $941
	dw $904,$4214,$1,$422,$4f01,$3ae
	dw $945,$4214
	dw $904,$214,$1,$18c,$6d40,$ac9f,$631
	dw $941
	dw $900,$1,$318,$6d41,$947
	dw $941
	dw $900,$1,$318,$6d41,$75d
	dw $941
	dw $904,$214,$1,$161,$6d41,$631
	dw $941
	dw $901,$1,$2c2
	dw $940,$6d41,$844
	dw $900,$1,$2c2,$6d41,$947
	dw $940,$6d41,$9d4
	dw $904,$214,$1,$18c,$6d41,$844
	dw $941
	dw $900,$1,$318,$6d41,$b08
	dw $941
	dw $900,$1,$318,$6d41,$947
	dw $941
	dw $904,$214,$1,$108,$6d41,$75d
	dw $941
	dw $901,$1,$211
	dw $940,$6d41,$6f3
	dw $900,$1,$211,$6d00,$ac9f,$75d
	dw $940,$6d40,$ac9f,$631
	dw $904,$214,$1,$18c,$6d41,$631
	dw $941
	dw $901,$1,$318
	dw $940,$6d41,$4a3
	dw $900,$1,$318,$6d41,$422
	dw $941
	dw $904,$214,$1,$1d7,$6d41,$4ea
	dw $941
	dw $901,$1,$3ae
	dw $940,$6d41,$4a3
	dw $900,$1,$3ae,$6d41,$4ea
	dw $940,$6d00,$ac9f,$631
	dw $904,$214,$1,$18c,$6d40,$ac9f,$584
	dw $940,$6d00,$ac9f,$4ea
	dw $900,$1,$318,$6d40,$ac9f,$4a3
	dw $940,$6d00,$ac9f,$422
	dw $900,$1,$318,$6d40,$ac9f,$4a3
	dw $940,$6d00,$ac9f,$4ea
	dw $904,$214,$1,$108,$6d40,$ac9f,$318
	dw $941
	dw $900,$1,$211,$6d41,$4a3
	dw $941
	dw $900,$1,$211,$6d41,$3ae
	dw $941
	dw $904,$214,$1,$18c,$6340,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$4f40,$ac9f,$6f3
	dw $904,$4214,$1,$318,$6340,$ac9f,$75d
	dw $940,$4540,$ac9f,$844
	dw $904,$214,$1,$161,$6840,$ac9f,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$4f40,$ac9f,$844
	dw $900,$1,$2c2,$6340,$ac9f,$947
	dw $940,$4540,$ac9f,$9d4
	dw $904,$214,$1,$18c,$6340,$ac9f,$947
	dw $940,$3b40,$ac9f,$844
	dw $904,$4214,$1,$318,$5940,$ac9f,$75d
	dw $941
	dw $904,$4214,$1,$318,$8140,$ac9f,$6f3
	dw $940,$4540,$ac9f,$75d
	dw $904,$214,$1,$108,$3b40,$ac9f,$631
	dw $941
	dw $901,$1,$211
	dw $940,$3b00,$ac9f,$584
	dw $900,$1,$211,$3b01,$631
	dw $940,$3b01,$584
	dw $904,$214,$1,$211,$3b40,$ac9f,$631
	dw $941
	dw $905,$4214,$1,$18c
	dw $941
	dw $905,$4214,$1,$18c
	dw $941
	dw $905,$214,$1,$275
	dw $941
	dw $900,$1,$1d7,$3b41,$310
	dw $941
	dw $901,$1,$1d7
	dw $941
	dw $904,$214,$1,$318,$1d40,$ac9f,$18b
	dw $941
	dw $905,$4214,$1,$18c
	dw $941
	dw $904,$4214,$1,$18c,$2740,$ac9f,$18a
	dw $941
	dw $905,$214,$1,$211
	dw $941
	dw $901,$1,$2c2
	dw $941
	dw $901,$1,$275
	dw $941
	dw $904,$214,$1,$251,$6e00,$9f,$318
	dw $945,$8214
	dw $901,$1,$3ae
	dw $940,$5900,$9f,$379
	dw $900,$1,$3ae,$5800,$9f,$318
	dw $940,$5500,$9f,$2c2
	dw $904,$214,$1,$1d7,$5300,$9f,$4a3
	dw $945,$8214
	dw $901,$1,$318
	dw $940,$5600,$9f,$584
	dw $900,$1,$318,$5c00,$9f,$4ea
	dw $940,$5f00,$9f,$422
	dw $904,$4214,$1,$18c,$6500,$9f,$631
	dw $945,$8214
	dw $900,$1,$275,$5900,$9f,$947
	dw $941
	dw $900,$1,$275,$5600,$9f,$75d
	dw $941
	dw $904,$214,$1,$1d7,$5500,$9f,$631
	dw $945,$8214
	dw $900,$1,$251,$5400,$9f,$75d
	dw $941
	dw $900,$1,$251,$4800,$9f,$584
	dw $941
	dw $904,$214,$1,$211,$6e40,$ac9f,$4a3
	dw $945,$8214
	dw $901,$1,$18c
	dw $940,$6e00,$ac9f,$3ae
	dw $900,$1,$18c,$5940,$ac9f,$422
	dw $940,$5900,$ac9f,$4ea
	dw $904,$214,$1,$275,$5901,$4a3
	dw $945,$8214
	dw $904,$214,$1,$1d7,$4b40,$ac9f,$422
	dw $941
	dw $904,$214,$1,$1d7,$5d40,$ac9f,$3ae
	dw $941
	dw $904,$214,$1,$318,$6b40,$ac9f,$631
	dw $945,$8214
	dw $901,$1,$18c
	dw $940,$5940,$ac9f,$422
	dw $900,$1,$18c,$dd00,$ac9f,$584
	dw $940,$dd01,$4ea
	dw $904,$214,$1,$211,$dd01,$631
	dw $941
	dw $904,$214,$1,$2c2,$dd01,$75d
	dw $941
	dw $904,$214,$1,$275,$dd01,$631
	dw $941
	dw $904,$214,$1,$251,$8940,$ac9f,$947
	dw $945,$8214
	dw $904,$214,$1,$3ae,$8900,$ac9f,$c60
	dw $941
	dw $904,$4214,$1,$3ae,$6540,$ac9f,$947
	dw $941
	dw $904,$8214,$1,$1d7,$6040,$ac9f,$631
	dw $944,$8214,$6000,$ac9f,$584
	dw $900,$1,$318,$6001,$631
	dw $940,$6001,$75d
	dw $900,$1,$318,$6001,$6f3
	dw $941
	dw $904,$8214,$1,$18c,$6740,$ac9f,$631
	dw $944,$8214,$6700,$ac9f,$6f3
	dw $900,$1,$275,$6701,$75d
	dw $941
	dw $900,$1,$275,$6701,$6f3
	dw $940,$6701,$75d
	dw $904,$8214,$1,$1d7,$6701,$947
	dw $945,$8214
	dw $901,$1,$251
	dw $944,$4214,$8140,$ac9f,$c62
	dw $900,$1,$251,$8100,$ac9f,$75d
	dw $941
	dw $904,$214,$1,$211,$8101,$947
	dw $941
	dw $901,$1,$18c
	dw $944,$8214,$8101,$844
	dw $900,$1,$18c,$8101,$75d
	dw $940,$8101,$844
	dw $904,$214,$1,$275,$8101,$947
	dw $941
	dw $904,$214,$1,$1d7,$8101,$b08
	dw $941
	dw $904,$214,$1,$1d7,$8101,$947
	dw $941
	dw $904,$214,$1,$318,$8101,$75d
	dw $941
	dw $901,$1,$18c
	dw $940,$8101,$6f3
	dw $900,$1,$18c,$8101,$75d
	dw $940,$8101,$631
	dw $904,$214,$1,$211,$8101,$631
	dw $941
	dw $905,$4214,$1,$2c2
	dw $940,$8101,$947
	dw $904,$4214,$1,$275,$8101,$75d
	dw $940,$8101,$844
	dw $904,$214,$1,$18c,$2140,$ac9f,$62e
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$2141,$6f3
	dw $904,$4214,$1,$318,$2141,$75d
	dw $940,$2141,$844
	dw $904,$214,$1,$161,$2141,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$2141,$844
	dw $900,$1,$2c2,$2141,$947
	dw $940,$2141,$9d4
	dw $904,$214,$1,$18c,$2141,$947
	dw $940,$2141,$844
	dw $904,$4214,$1,$318,$2141,$75d
	dw $941
	dw $904,$4214,$1,$318,$2141,$6f3
	dw $940,$2141,$75d
	dw $904,$214,$1,$211,$2141,$631
	dw $941
	dw $901,$1,$422
	dw $940,$a600,$9f,$584
	dw $900,$1,$422,$a601,$631
	dw $940,$a601,$584
	dw $904,$214,$1,$18c,$a601,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$a601,$4a3
	dw $904,$4214,$1,$318,$a601,$422
	dw $941
	dw $904,$214,$1,$1d7,$a601,$4a3
	dw $941
	dw $901,$1,$3ae
	dw $940,$a601,$422
	dw $900,$1,$3ae,$a601,$4a3
	dw $941
	dw $904,$214,$1,$18c,$a640,$9f,$584
	dw $940,$a641,$422
	dw $904,$4214,$1,$318,$a641,$3ae
	dw $941
	dw $904,$4214,$1,$318,$a641,$379
	dw $941
	dw $904,$214,$1,$211,$a641,$318
	dw $941
	dw $900,$1,$422,$a641,$29a
	dw $940,$a641,$3ae
	dw $900,$1,$422,$a600,$9f,$318
	dw $941
	dw $904,$214,$1,$18c,$7700,$f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$7701,$6f3
	dw $904,$4214,$1,$318,$dd40,$f,$75d
	dw $940,$4100,$f,$844
	dw $904,$214,$1,$161,$240,$f,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$9940,$f,$844
	dw $900,$1,$2c2,$9941,$947
	dw $940,$9941,$9d4
	dw $904,$214,$1,$18c,$9941,$947
	dw $940,$9941,$844
	dw $904,$4214,$1,$318,$9941,$75d
	dw $941
	dw $904,$4214,$1,$318,$9941,$6f3
	dw $940,$ea40,$f,$75d
	dw $904,$214,$1,$211,$ea41,$631
	dw $941
	dw $901,$1,$422
	dw $940,$3140,$f,$584
	dw $900,$1,$422,$3141,$631
	dw $940,$6340,$f,$584
	dw $904,$214,$1,$18c,$f440,$f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$f441,$4a3
	dw $904,$4214,$1,$318,$1340,$f,$422
	dw $941
	dw $904,$214,$1,$1d7,$2740,$f,$4ea
	dw $941
	dw $905,$4214,$1,$3ae
	dw $940,$3140,$f,$4a3
	dw $904,$4214,$1,$3ae,$3141,$4ea
	dw $940,$3141,$631
	dw $904,$214,$1,$18c,$3141,$584
	dw $940,$3141,$4ea
	dw $904,$4214,$1,$318,$3141,$4a3
	dw $940,$3141,$422
	dw $904,$4214,$1,$318,$3141,$4a3
	dw $940,$3141,$535
	dw $904,$214,$1,$211,$3141,$318
	dw $941
	dw $904,$4214,$1,$422,$3141,$4a3
	dw $941
	dw $904,$4214,$1,$422,$3141,$3ae
	dw $945,$4214
	dw $904,$214,$1,$18c,$3140,$9f,$631
	dw $941
	dw $900,$1,$318,$3100,$9f,$947
	dw $941
	dw $900,$1,$318,$3b40,$9f,$75d
	dw $941
	dw $904,$214,$1,$161,$3b00,$9f,$631
	dw $941
	dw $901,$1,$2c2
	dw $940,$4f00,$9f,$844
	dw $900,$1,$2c2,$4500,$9f,$947
	dw $940,$3b00,$9f,$9d4
	dw $904,$214,$1,$18c,$3100,$9f,$844
	dw $941
	dw $900,$1,$318,$3b00,$9f,$b08
	dw $941
	dw $900,$1,$318,$4540,$9f,$947
	dw $941
	dw $904,$214,$1,$108,$140,$9f,$75d
	dw $941
	dw $901,$1,$211
	dw $940,$c700,$9f,$6f3
	dw $900,$1,$211,$c701,$75d
	dw $940,$c740,$9f,$631
	dw $904,$214,$1,$18c,$c741,$631
	dw $941
	dw $901,$1,$318
	dw $940,$c741,$4a3
	dw $900,$1,$318,$c741,$422
	dw $941
	dw $904,$214,$1,$1d7,$c741,$4ea
	dw $941
	dw $901,$1,$3ae
	dw $940,$c741,$4a3
	dw $900,$1,$3ae,$c741,$4ea
	dw $940,$c700,$9f,$631
	dw $904,$214,$1,$18c,$c740,$9f,$584
	dw $940,$c700,$9f,$4ea
	dw $900,$1,$318,$c740,$9f,$4a3
	dw $940,$c700,$9f,$422
	dw $900,$1,$318,$c740,$9f,$4a3
	dw $940,$c700,$9f,$4ea
	dw $904,$214,$1,$108,$c740,$9f,$318
	dw $941
	dw $900,$1,$211,$c741,$4a3
	dw $941
	dw $900,$1,$211,$c741,$3ae
	dw $941
	dw $904,$214,$1,$18c,$6340,$f,$631
	dw $941
	dw $905,$4214,$1,$318
	dw $940,$3140,$f,$6f3
	dw $904,$4214,$1,$318,$3141,$75d
	dw $940,$3141,$844
	dw $904,$214,$1,$161,$6340,$f,$947
	dw $941
	dw $901,$1,$2c2
	dw $940,$f440,$f,$844
	dw $900,$1,$2c2,$f441,$947
	dw $940,$6a40,$f,$9d4
	dw $904,$214,$1,$18c,$6a41,$947
	dw $940,$6340,$f,$844
	dw $904,$4214,$1,$318,$6341,$75d
	dw $941
	dw $904,$4214,$1,$318,$ea40,$f,$6f3
	dw $940,$ea41,$75d
	dw $904,$214,$1,$108,$ea41,$631
	dw $941
	dw $901,$1,$211
	dw $940,$40,$f,$584
	dw $900,$1,$211,$240,$f,$631
	dw $940,$540,$f,$584
	dw $904,$214,$1,$18c,$e40,$f,$4a3
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $904,$214,$1,$1d7,$3740,$9f,$4a3
	dw $941
	dw $901,$1,$3ae
	dw $941
	dw $901,$1,$3ae
	dw $941
	dw $904,$214,$1,$18c,$3700,$9f,$251
	dw $941
	dw $905,$4214,$1,$318
	dw $945,$8214
	dw $904,$4214,$1,$318,$2700,$9f,$250
	dw $941
	dw $905,$214,$1,$108
	dw $941
	dw $904,$8214,$1,$211,$2600,$9f,$24f
	dw $941
	dw $905,$8214,$1,$211
	dw $941
	dw $904,$214,$1,$18c,$1600,$9f,$24e
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $905,$214,$1,$161
	dw $941
	dw $905,$8214,$1,$2c2
	dw $941
	dw $905,$8214,$1,$2c2
	dw $941
	dw $905,$214,$1,$18c
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $905,$4214,$1,$318
	dw $941
	dw $905,$214,$1,$108
	dw $941
	dw $905,$8214,$1,$211
	dw $941
	dw $905,$8214,$1,$211
	dw $945,$8214
	dw $904,$214,$1,$211,$9f40,$ac9f,$422
	dw $941
	dw $900,$1,$18c,$c740,$ac9f,$318
	dw $941
	dw $900,$1,$18c,$6e00,$9f,$318
	dw $941
	dw $904,$214,$1,$275,$dd40,$ac9f,$4ea
	dw $941
	dw $900,$1,$1d7,$dd00,$ac9f,$3ae
	dw $941
	dw $900,$1,$1d7,$6040,$f,$3ae
	dw $941
	dw $904,$214,$1,$318,$7840,$ac9f,$631
	dw $941
	dw $900,$1,$18c,$7800,$ac9f,$318
	dw $941
	dw $900,$1,$18c,$6e00,$9f,$318
	dw $941
	dw $904,$214,$1,$211,$6e00,$ac9f,$422
	dw $941
	dw $904,$8214,$1,$2c2,$6e01,$584
	dw $941
	dw $904,$8214,$1,$275,$6400,$9f,$4ea
	dw $941
	dw $904,$214,$1,$251,$6400,$ac9f,$4a3
	dw $941
	dw $900,$1,$3ae,$6401,$75d
	dw $941
	dw $900,$1,$3ae,$6540,$f,$75d
	dw $941
	dw $904,$214,$1,$1d7,$6540,$ac9f,$3ae
	dw $941
	dw $904,$4214,$1,$318,$6541,$631
	dw $941
	dw $904,$4214,$1,$318,$6540,$f,$631
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$318
	dw $941
	dw $904,$8214,$1,$275,$6540,$f,$4ea
	dw $941
	dw $900,$1,$275,$6540,$ac9f,$4ea
	dw $941
	dw $904,$214,$1,$1d7,$6541,$3ae
	dw $941
	dw $904,$4214,$1,$251,$6541,$4a3
	dw $941
	dw $904,$4214,$1,$251,$6540,$f,$4a3
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$631
	dw $941
	dw $900,$1,$318,$6540,$9f,$631
	dw $941
	dw $900,$1,$318,$6540,$f,$318
	dw $941
	dw $904,$214,$1,$1d7,$6540,$ac9f,$3ae
	dw $941
	dw $904,$4214,$1,$3ae,$6541,$75d
	dw $941
	dw $904,$4214,$1,$3ae,$6540,$f,$75d
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$318
	dw $941
	dw $900,$1,$318,$6541,$631
	dw $941
	dw $900,$1,$318,$6540,$f,$631
	dw $941
	dw $904,$214,$1,$108,$6540,$ac9f,$211
	dw $941
	dw $904,$4214,$1,$211,$6541,$422
	dw $941
	dw $904,$4214,$1,$211,$6540,$f,$422
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$318
	dw $941
	dw $900,$1,$318,$6541,$631
	dw $941
	dw $900,$1,$318,$6540,$f,$631
	dw $941
	dw $904,$214,$1,$161,$6540,$ac9f,$2c2
	dw $941
	dw $904,$4214,$1,$2c2,$6541,$584
	dw $941
	dw $904,$4214,$1,$2c2,$6540,$f,$584
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$318
	dw $941
	dw $904,$8214,$1,$318,$6541,$631
	dw $941
	dw $900,$1,$318,$6540,$f,$631
	dw $941
	dw $904,$214,$1,$108,$6540,$ac9f,$211
	dw $941
	dw $904,$4214,$1,$211,$6541,$422
	dw $941
	dw $904,$4214,$1,$211,$6540,$f,$422
	dw $941
	dw $904,$214,$1,$18c,$6540,$ac9f,$318
	dw $945,$214
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $944,$214,$7700,$f,$18b
	dw $941
	dw $941
	dw $941
	dw $940,$1540,$f,$18c
	dw $941
	dw $941
	dw $941
	dw $940,$1541,$18c
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $941
	dw $945,$214
	dw $941
	dw $941
	dw $941
	dw $945,$214
	dw $941
	dw $941
	dw $941
	dw $945,$214
	dw $941
	dw $941
	dw $941
	dw $804,$214,$1,$108,$1540,$9f,$107
	dw $840,$1500,$9f,$211
	dw $841
	dw $841
	dw $804,$4214,$1,$108,$1540,$9f,$107
	dw $840,$1500,$9f,$275
	dw $841
	dw $841
	dw $804,$214,$1,$108,$1501,$107
	dw $840,$1501,$318
	dw $841
	dw $841
	dw $804,$4214,$1,$108,$1501,$107
	dw $840,$1501,$2c2
	dw $841
	dw $841
	dw $804,$214,$1,$108,$1501,$107
	dw $840,$1501,$275
	dw $841
	dw $841
	dw $804,$8214,$1,$13a,$1501,$139
	dw $840,$1501,$2c2
	dw $845,$8214
	dw $841
	dw $804,$8214,$1,$13a,$1501,$139
	dw $840,$1501,$318
	dw $841
	dw $841
	dw $804,$214,$1,$108,$c940,$9f,$107
	dw $840,$c900,$9f,$211
	dw $841
	dw $841
	dw $804,$4214,$1,$108,$cb40,$9f,$107
	dw $840,$cb00,$9f,$3ae
	dw $844,$4214,$cb01,$422
	dw $841
	dw $804,$8214,$1,$eb,$cb01,$1d1
	dw $840,$cb01,$4ea
	dw $841
	dw $841
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $840,$cb01,$584
	dw $841
	dw $841
	dw $804,$8214,$1,$d1,$cb01,$1a3
	dw $840,$cb01,$631
	dw $845,$8214
	dw $841
	dw $804,$4214,$1,$b0,$cb01,$161
	dw $840,$cb01,$844
	dw $841
	dw $841
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $840,$cb01,$844
	dw $841
	dw $841
	dw $800,$1,$108,$cb01,$210
	dw $840,$cb01,$75d
	dw $841
	dw $841
	dw $800,$1,$108,$cb01,$107
	dw $840,$cb01,$844
	dw $841
	dw $841
	dw $804,$202,$1,$108,$640,$f,$107
	dw $840,$600,$f,$211
	dw $841
	dw $841
	dw $804,$4203,$1,$108,$640,$f,$107
	dw $840,$600,$f,$275
	dw $841
	dw $841
	dw $804,$203,$1,$108,$3140,$f,$107
	dw $840,$3100,$f,$318
	dw $841
	dw $841
	dw $804,$4203,$1,$108,$f440,$f,$107
	dw $840,$f400,$f,$2c2
	dw $841
	dw $841
	dw $804,$202,$1,$108,$f401,$107
	dw $840,$f401,$275
	dw $841
	dw $841
	dw $804,$8203,$1,$13a,$f401,$139
	dw $840,$f401,$2c2
	dw $845,$8203
	dw $841
	dw $804,$8203,$1,$13a,$f401,$139
	dw $840,$f401,$318
	dw $841
	dw $841
	dw $804,$202,$1,$108,$c940,$9f,$107
	dw $840,$2c00,$9f,$211
	dw $841
	dw $841
	dw $804,$4203,$1,$108,$3140,$f,$107
	dw $840,$2b00,$f,$3ae
	dw $844,$4203,$2b01,$422
	dw $841
	dw $804,$8203,$1,$eb,$2b00,$9f,$1d1
	dw $840,$4200,$9f,$4ea
	dw $841
	dw $841
	dw $804,$202,$1,$c6,$cc40,$f,$18c
	dw $840,$3800,$9f,$57f
	dw $841
	dw $841
	dw $804,$8203,$1,$d1,$3800,$f,$1a3
	dw $840,$9000,$9f,$631
	dw $845,$8203
	dw $841
	dw $804,$4203,$1,$b0,$9000,$f,$161
	dw $840,$3100,$9f,$9d4
	dw $841
	dw $841
	dw $804,$202,$1,$c6,$3100,$ac9f,$18c
	dw $840,$5900,$9f,$844
	dw $841
	dw $841
	dw $800,$1,$108,$5900,$f,$210
	dw $840,$9f00,$9f,$75d
	dw $841
	dw $841
	dw $804,$203,$1,$108,$9f00,$f,$107
	dw $840,$bd40,$ac9f,$631
	dw $841
	dw $841
	dw $804,$214,$1,$108,$bd40,$9f,$107
	dw $840,$bd00,$9f,$318
	dw $841
	dw $801,$1,$0
	dw $804,$4214,$1,$108,$bd40,$9f,$107
	dw $840,$bd00,$9f,$275
	dw $841
	dw $801,$1,$0
	dw $804,$214,$1,$108,$bd01,$107
	dw $840,$bd01,$318
	dw $841
	dw $801,$1,$0
	dw $804,$4214,$1,$108,$bd01,$107
	dw $840,$bd01,$2c2
	dw $841
	dw $801,$1,$0
	dw $804,$214,$1,$108,$bd01,$107
	dw $840,$bd01,$275
	dw $841
	dw $841
	dw $804,$8214,$1,$13a,$bd01,$139
	dw $840,$bd01,$2c2
	dw $845,$8214
	dw $841
	dw $804,$8214,$1,$13a,$bd01,$139
	dw $840,$bd01,$318
	dw $841
	dw $841
	dw $804,$214,$1,$108,$c940,$9f,$107
	dw $840,$c900,$9f,$211
	dw $841
	dw $801,$1,$0
	dw $804,$4214,$1,$108,$cb40,$9f,$107
	dw $840,$cb00,$9f,$3ae
	dw $844,$4214,$cb01,$422
	dw $841
	dw $804,$8214,$1,$eb,$cb01,$1d1
	dw $840,$cb01,$4ea
	dw $841
	dw $801,$1,$0
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $840,$cb01,$584
	dw $841
	dw $841
	dw $804,$8214,$1,$d1,$cb01,$1a3
	dw $840,$cb01,$631
	dw $845,$8214
	dw $841
	dw $804,$4214,$1,$b0,$cb01,$161
	dw $840,$cb01,$844
	dw $841
	dw $841
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $840,$cb01,$844
	dw $841
	dw $801,$1,$0
	dw $800,$1,$108,$cb01,$210
	dw $840,$cb01,$75d
	dw $841
	dw $801,$1,$0
	dw $800,$1,$108,$cb01,$107
	dw $840,$cb01,$844
	dw $841
	dw $841
	dw $804,$214,$1,$108,$cb40,$9f,$107
	dw $800,$1,$318,$cb00,$9f,$422
	dw $840,$cb01,$211
	dw $801,$1,$0
	dw $804,$4214,$1,$108,$cb40,$9f,$107
	dw $840,$cb00,$9f,$275
	dw $841
	dw $841
	dw $804,$214,$1,$108,$cb01,$107
	dw $800,$1,$211,$cb01,$318
	dw $840,$cb01,$631
	dw $840,$cb01,$318
	dw $804,$4214,$1,$108,$cb01,$107
	dw $840,$cb01,$2c2
	dw $841
	dw $841
	dw $804,$214,$1,$108,$cb01,$107
	dw $840,$cb01,$275
	dw $841
	dw $801,$1,$0
	dw $804,$8214,$1,$13a,$cb01,$139
	dw $800,$1,$161,$cb01,$2c2
	dw $845,$8214
	dw $841
	dw $804,$8214,$1,$13a,$cb01,$139
	dw $800,$1,$18c,$cb01,$318
	dw $841
	dw $841
	dw $804,$214,$1,$108,$c940,$9f,$107
	dw $840,$c900,$9f,$211
	dw $841
	dw $841
	dw $804,$4214,$1,$108,$cb40,$9f,$107
	dw $800,$1,$211,$cb00,$9f,$3ae
	dw $844,$4214,$cb01,$422
	dw $841
	dw $804,$8214,$1,$eb,$cb01,$1d1
	dw $840,$cb01,$4ea
	dw $841
	dw $841
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $800,$1,$2c2,$cb01,$584
	dw $801,$1,$161
	dw $841
	dw $804,$8214,$1,$d1,$cb01,$1a3
	dw $840,$cb01,$631
	dw $845,$8214
	dw $841
	dw $804,$4214,$1,$b0,$cb01,$161
	dw $840,$cb01,$75d
	dw $841
	dw $801,$1,$0
	dw $804,$214,$1,$c6,$cb01,$18c
	dw $840,$cb01,$631
	dw $841
	dw $841
	dw $800,$1,$108,$cb01,$210
	dw $840,$cb01,$584
	dw $841
	dw $841
	dw $800,$1,$108,$cb01,$107
	dw $840,$cb01,$4ea
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $804,$8214,$1,$108,$c700,$9f,$318
	dw $840,$c701,$108
	dw $841
	dw $841
	dw $840,$c701,$211
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $841
	dw $840,$c701,$0
	db $80
pattern2
	dw $0100,0,0,0
	db $80



